{"singlePage": [], "startSite": "", "filingNum": "", "onePageListNum": 15, "commentLabelColor": "#006b75", "yearColorList": ["#bc4c00", "#0969da", "#1f883d", "#A333D0"], "i18n": "CN", "themeMode": "manual", "dayTheme": "light", "nightTheme": "dark", "urlMode": "pinyin", "script": "", "style": "", "indexScript": "", "indexStyle": "", "bottomText": "", "showPostSource": 1, "iconList": {}, "UTC": 8, "rssSplit": "sentence", "exlink": {}, "title": "Roger's new blog", "subTitle": "Nothing to say but everything in mind", "avatarUrl": "https://pic.imgdb.cn/item/6673912cd9c307b7e9f638dc.jpg", "GMEEK_VERSION": "last", "postListJson": {"P1": {"htmlDir": "docs/post/wei-xin-jie-feng-fang-fa.html", "labels": ["documentation"], "postTitle": "\u5fae\u4fe1\u89e3\u5c01\u65b9\u6cd5", "postUrl": "post/wei-xin-jie-feng-fang-fa.html", "postSourceUrl": "https://github.com/shawroger/shawroger.github.io/issues/1", "commentNum": 0, "wordCount": 64, "description": "\u5148\u53bb\u94b1\u5305\u90a3\u91cc\u7ed1\u5b9a\u4e00\u4e2a\u4f60\u7684\u5b9e\u540d\u94f6\u884c\u5361\uff0c\u7136\u540e\u7528\u8fd9\u4e2a\u94f6\u884c\u5361\u7684\u4e2a\u4eba\u4fe1\u606f\u6765\u6ce8\u518c\u5b9e\u540d\u8ba4\u8bc1\u586b\u5199\u8eab\u4efd\u8bc1\u4fe1\u606f\u548c\u626b\u8138\u8ba4\u8bc1\u90fd\u7528\u8fd9\u4e2a\u5361\u7684\u5b9e\u540d\u4fe1\u606f\u5c31\u53ef\u4ee5\u4e86\u3002", "top": 0, "createdAt": 1718849768, "style": "", "script": "", "ogImage": "https://pic.imgdb.cn/item/6673912cd9c307b7e9f638dc.jpg", "createdDate": "2024-06-20", "dateLabelColor": "#bc4c00"}, "P2": {"htmlDir": "docs/post/dai-ma-shi-xian-\uff1apandas -du-qu- mat -de-wen-jian-zhong-jie-gou-ti-shu-zu.html", "labels": ["documentation"], "postTitle": "\u4ee3\u7801\u5b9e\u73b0\uff1apandas \u8bfb\u53d6 mat \u7684\u6587\u4ef6\u4e2d\u7ed3\u6784\u4f53\u6570\u7ec4", "postUrl": "post/dai-ma-shi-xian-%EF%BC%9Apandas%20-du-qu-%20mat%20-de-wen-jian-zhong-jie-gou-ti-shu-zu.html", "postSourceUrl": "https://github.com/shawroger/shawroger.github.io/issues/2", "commentNum": 0, "wordCount": 1213, "description": "# \u5f15\u5165 python \u5e93\r\n\r\n```python\r\nimport scipy.io\r\nimport numpy as np\r\nimport pandas as pd\r\n```\r\n\r\n# \u51fd\u6570\u5b9e\u73b0\r\n\r\n\u5047\u8bbe mat \u6587\u4ef6\u4e2d\u6709\u4e00\u4e2a\u7ed3\u6784\u4f53\u6570\u7ec4\u7684\u6570\u636e\u540d\u4e3a `data`\r\n\r\n```python\r\n\r\ndef create_pd(matValue):\r\n    # \u521d\u59cb\u5316\u4e00\u4e2a\u5b57\u5178\u6765\u5b58\u50a8\u6570\u636e\r\n    data_dict = {}\r\n    \r\n    # \u63d0\u53d6\u6240\u6709\u5b57\u6bb5\u540d\r\n    field_names = matValue.dtype.names\r\n    \r\n    # \u521d\u59cb\u5316\u5b57\u5178\u7684\u952e\r\n    for field in field_names:\r\n        data_dict[field] = []\r\n    \r\n    # \u89e3\u6790\u7ed3\u6784\u4f53\u6570\u7ec4\u5e76\u63d0\u53d6\u6570\u636e\r\n    for i in range(matValue.shape[0]):\r\n        # \u83b7\u53d6\u7b2c i \u4e2a\u7ed3\u6784\u4f53\r\n        struct = matValue[i, 0]\r\n        \r\n        # \u63d0\u53d6\u6bcf\u4e2a\u5b57\u6bb5\u7684\u503c\r\n        for field in field_names:\r\n            value = struct[field]\r\n            # \u5982\u679c\u503c\u662f\u6570\u7ec4\uff0c\u5c55\u5f00\u5b83\r\n            if isinstance(value, np.ndarray) and value.size == 1:\r\n                value = value[0, 0] if value.shape[0] == 1 else value.flatten()\r\n            \r\n            data_dict[field].append(value)\r\n    \r\n    # \u5c06\u5b57\u5178\u8f6c\u6362\u4e3a DataFrame\r\n    df = pd.DataFrame(data_dict)\r\n    \r\n    # \u663e\u793a DataFrame\r\n    return df\r\n\r\ndef load_struct_mat(mat_file , valueKey = 'data'):\r\n    mat = scipy.io.loadmat(mat_file + '.mat')\r\n    list = create_pd(mat[valueKey])\r\n    return list\r\n```\r\n\r\n# \u4f7f\u7528\u65b9\u6cd5\r\n\r\n```python\r\ndf = load_struct_mat('data.mat', 'data')\r\n# df \u7684\u7c7b\u578b\u5c31\u662f pandas.DataFrame\r\ndf.to_csv('data.csv', index = False)\r\n```\u3002", "top": 0, "createdAt": 1718850996, "style": "", "script": "", "ogImage": "https://pic.imgdb.cn/item/6673912cd9c307b7e9f638dc.jpg", "createdDate": "2024-06-20", "dateLabelColor": "#bc4c00"}}, "singeListJson": {}, "labelColorDict": {"bug": "#d73a4a", "documentation": "#0075ca", "duplicate": "#cfd3d7", "enhancement": "#a2eeef", "good first issue": "#7057ff", "help wanted": "#008672", "invalid": "#e4e669", "question": "#d876e3", "wontfix": "#ffffff"}, "displayTitle": "Roger's new blog", "faviconUrl": "https://pic.imgdb.cn/item/6673912cd9c307b7e9f638dc.jpg", "ogImage": "https://pic.imgdb.cn/item/6673912cd9c307b7e9f638dc.jpg", "homeUrl": "https://shawroger.github.io", "prevUrl": "disabled", "nextUrl": "disabled"}